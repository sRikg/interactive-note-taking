Encoder: The encoder is composed of a stack of N\u2004=\u20046 identical layers. Each layer has two sub-layers. The first is a multi-head self-attention mechanism, and the second is a simple, position-wise fully connected feed-forward network. We employ a residual connection (he2016deep, ) around each of the two sub-layers, followed by layer normalization layernorm2016 . That is, the output of each sub-layer is LayerNorm(x+Sublayer(x)), where Sublayer(x) is the function implemented by the sub-layer itself. To facilitate these residual connections, all sub-layers in the model, as well as the embedding layers, produce outputs of dimension d_(model)\u2004=\u2004512. 
